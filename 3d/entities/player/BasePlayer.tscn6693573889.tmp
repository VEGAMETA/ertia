[gd_scene load_steps=12 format=3 uid="uid://d1vn2o0ba1qn5"]

[ext_resource type="Script" uid="uid://dv4walugdnkde" path="res://3d/entities/player/base_player.gd" id="1_r018j"]
[ext_resource type="AudioStream" uid="uid://d68lsgsqxp1f" path="res://assets/audio/sfx/metal_1.wav" id="2_e1i2b"]
[ext_resource type="Script" uid="uid://cexu4uoa438wd" path="res://3d/entities/player/safe_area.gd" id="3_n3fk0"]
[ext_resource type="Script" uid="uid://b0k6krnr6wx73" path="res://3d/entities/player/audio_component.gd" id="4_eof6b"]
[ext_resource type="AudioStream" uid="uid://bh4mtagia6lns" path="res://assets/audio/sfx/steps_1.wav" id="5_vw8av"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_e1i2b"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_n3fk0"]
height = 1.15

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_rsrph"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_e1i2b"]
height = 1.0

[sub_resource type="CylinderShape3D" id="CylinderShape3D_eof6b"]
height = 0.325
radius = 0.225

[sub_resource type="SphereShape3D" id="SphereShape3D_vw8av"]

[node name="BasePlayer" type="CharacterBody3D"]
collision_layer = 2
script = ExtResource("1_r018j")

[node name="ShapeStand" type="ShapeCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
shape = SubResource("CylinderShape3D_e1i2b")
target_position = Vector3(0, 0, 0)
collision_mask = 5

[node name="UnderBottom" type="ShapeCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
shape = SubResource("CylinderShape3D_n3fk0")
collision_mask = 4

[node name="CollisionStand" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
shape = SubResource("CapsuleShape3D_rsrph")

[node name="CollisionCrouch" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
shape = SubResource("CapsuleShape3D_e1i2b")

[node name="Music" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("2_e1i2b")

[node name="Head" type="Node3D" parent="."]
unique_name_in_owner = true

[node name="SafeArea" type="Area3D" parent="Head"]
collision_layer = 2
collision_mask = 12
script = ExtResource("3_n3fk0")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Head/SafeArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.4, 0)
shape = SubResource("CylinderShape3D_eof6b")

[node name="GravityAreaWatcher" type="ShapeCast3D" parent="Head"]
unique_name_in_owner = true
shape = SubResource("SphereShape3D_vw8av")
target_position = Vector3(0, 0, 0)
collision_mask = 16

[node name="Holder" type="Node3D" parent="."]
unique_name_in_owner = true

[node name="AudioComponent" type="Node3D" parent="."]
script = ExtResource("4_eof6b")

[node name="Step" type="AudioStreamPlayer3D" parent="AudioComponent"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
visible = false
stream = ExtResource("5_vw8av")
max_db = -1.62
bus = &"Sfx"
